<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Health Assistant Dashboard</title>
  <link rel="stylesheet" href="css/style.css"/>
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1>AI Health Assistant – Dashboard</h1>
      <nav>
        <ul class="nav">
          <li><a href="ai-health-assistant.html">Back to Overview</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="page-header">
      <h2>Sample User Dashboard</h2>
      <p class="subtitle">Mock interface – concept visualization</p>
    </section>

    <!-- User selector -->
    <section class="card">
      <label for="userSelect"><strong>Select User:</strong></label>
      <select id="userSelect">
        <option value="user1">John Smith</option>
        <option value="user2">Maria Lopez</option>
        <option value="user3">David Chen</option>
      </select>
    </section>

    <!-- KPI tiles -->
    <section class="card">
      <div class="kpi-grid">
        <div class="kpi">
          <div class="kpi-label">Resting HR</div>
          <div class="kpi-value" id="kpiResting">–</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Avg Sleep</div>
          <div class="kpi-value" id="kpiSleep">–</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Weekly Steps</div>
          <div class="kpi-value" id="kpiSteps">–</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">AI Risk Score</div>
          <div class="kpi-value" id="kpiRisk">–</div>
        </div>
      </div>
    </section>

    <!-- Charts -->
    <section class="card dashboard">
      <div class="dashboard-grid">
        <div class="dashboard-widget">
          <h3>Heart Rate (7 days)</h3>
          <canvas id="hrChart" height="180"></canvas>
        </div>
        <div class="dashboard-widget">
          <h3>Sleep Duration (hrs)</h3>
          <canvas id="sleepChart" height="180"></canvas>
        </div>
        <div class="dashboard-widget">
          <h3>Sleep Stages (%)</h3>
          <canvas id="stageChart" height="180"></canvas>
        </div>
        <div class="dashboard-widget">
          <h3>AI Alerts</h3>
          <ul id="alertList"></ul>
        </div>
        <div class="dashboard-widget">
          <h3>Recommendations</h3>
          <ul id="recList"></ul>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© 2025 Carson Mulder</p>
    </div>
  </footer>

  <script>
  // ---- Mock user dataset (edit freely) ----
  const labels7 = ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];
  const users = {
    user1: {
      name: "John Smith",
      kpis: { resting: 72, sleepAvg: 7.3, steps: "54,200", risk: 38 },
      heartRate: [76, 80, 78, 81, 79, 77, 83],
      sleepHrs:  [7.5, 7.2, 6.8, 7.9, 7.4, 7.0, 7.7],
      stages:    { deep: 18, rem: 22, light: 50, awake: 10 },
      alerts: [
        "Elevated resting HR trend early week.",
        "Slight decrease in mid-week sleep duration."
      ],
      recs: [
        "15-min post-lunch walk.",
        "Target 7.5–8h sleep for 3 nights.",
        "Hydration: +500ml/day."
      ]
    },
    user2: {
      name: "Maria Lopez",
      kpis: { resting: 65, sleepAvg: 8.1, steps: "62,450", risk: 12 },
      heartRate: [67, 70, 69, 68, 71, 69, 70],
      sleepHrs:  [8.0, 8.3, 7.9, 8.5, 8.1, 8.2, 8.0],
      stages:    { deep: 24, rem: 23, light: 47, awake: 6 },
      alerts: [
        "No abnormal patterns detected."
      ],
      recs: [
        "Maintain current routine.",
        "Add 1 strength session this week."
      ]
    },
    user3: {
      name: "David Chen",
      kpis: { resting: 80, sleepAvg: 6.3, steps: "41,300", risk: 62 },
      heartRate: [82, 85, 84, 86, 88, 83, 87],
      sleepHrs:  [6.1, 6.4, 6.0, 6.7, 6.2, 6.3, 6.5],
      stages:    { deep: 14, rem: 18, light: 56, awake: 12 },
      alerts: [
        "Stress-related HR increase likely.",
        "Low sleep quality 4 consecutive nights."
      ],
      recs: [
        "10-min breathing exercise (evening).",
        "Limit caffeine after 3 PM.",
        "Light cardio 20–30 mins today."
      ]
    }
  };

  // ---- Helpers to render lists and KPIs ----
  const alertList = document.getElementById("alertList");
  const recList   = document.getElementById("recList");
  const kpiResting = document.getElementById("kpiResting");
  const kpiSleep   = document.getElementById("kpiSleep");
  const kpiSteps   = document.getElementById("kpiSteps");
  const kpiRisk    = document.getElementById("kpiRisk");

  function setList(ul, arr){
    ul.innerHTML = arr.map(item => `<li>${item}</li>`).join("");
  }
  function setKPIs(k){
    kpiResting.textContent = `${k.resting} bpm`;
    kpiSleep.textContent   = `${k.sleepAvg} h`;
    kpiSteps.textContent   = k.steps;
    kpiRisk.textContent    = `${k.risk}/100`;
  }

  // ---- Chart instances (created once, updated later) ----
  const hrCtx    = document.getElementById("hrChart").getContext("2d");
  const sleepCtx = document.getElementById("sleepChart").getContext("2d");
  const stageCtx = document.getElementById("stageChart").getContext("2d");

  const hrChart = new Chart(hrCtx, {
    type: "line",
    data: { labels: labels7, datasets: [{ label: "BPM", data: [], tension: 0.35, fill: false }] },
    options: {
      responsive: true,
      plugins: { legend: { display: false } },
      scales: { y: { suggestedMin: 50, suggestedMax: 100 } }
    }
  });

  const sleepChart = new Chart(sleepCtx, {
    type: "bar",
    data: { labels: labels7, datasets: [{ label: "Hours", data: [] }] },
    options: {
      responsive: true,
      plugins: { legend: { display: false } },
      scales: { y: { suggestedMin: 4, suggestedMax: 9 } }
    }
  });

  const stageChart = new Chart(stageCtx, {
    type: "doughnut",
    data: {
      labels: ["Deep", "REM", "Light", "Awake"],
      datasets: [{ data: [] }]
    },
    options: {
      responsive: true,
      plugins: { legend: { position: "bottom" } },
      cutout: "55%"
    }
  });

  // ---- Update all UI for a given user ----
  function renderUser(key){
    const u = users[key];
    // KPIs & Lists
    setKPIs(u.kpis);
    setList(alertList, u.alerts);
    setList(recList,   u.recs);
    // Charts
    hrChart.data.datasets[0].data = u.heartRate;
    hrChart.update();

    sleepChart.data.datasets[0].data = u.sleepHrs;
    sleepChart.update();

    stageChart.data.datasets[0].data = [u.stages.deep, u.stages.rem, u.stages.light, u.stages.awake];
    stageChart.update();
  }

  // ---- User selector wiring ----
  document.getElementById("userSelect").addEventListener("change", e => {
    renderUser(e.target.value);
  });

  // Default load
  renderUser("user1");
  </script>
</body>
</html>
